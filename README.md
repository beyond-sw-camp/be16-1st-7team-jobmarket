<img src="https://capsule-render.vercel.app/api?type=waving&color=auto&height=250&section=header&text=7%20Team%20Job%20Market&desc=DB%20í”„ë¡œì íŠ¸&fontAlignY=35&descAlign=80&descAlignY=50&fontSize=80" />

## ğŸ“š ëª©ì°¨

- [ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)

- [ğŸ«‚ íŒ€ì› ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)

- [ğŸ› ï¸ ê¸°ë°˜ ê¸°ìˆ ](#%EF%B8%8F-ê¸°ë°˜-ê¸°ìˆ )

- [ğŸ“„ í…Œì´ë¸” ëª…ì„¸ì„œ ë° ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ](#-í…Œì´ë¸”-ëª…ì„¸ì„œ-ë°-ìš”êµ¬ì‚¬í•­-ëª…ì„¸ì„œ)
    
- [ğŸ—‚ï¸ WBS(Work Breakdown Structure)](#%EF%B8%8F-wbswork-breakdown-structure)
    
- [ğŸ§© ERD ëª¨ë¸ë§](#-erd-ëª¨ë¸ë§)
    
- [ğŸ“Œ êµ¬ì¶• ì¿¼ë¦¬ (DDL)](#-êµ¬ì¶•-ì¿¼ë¦¬-ddl)

- [ğŸ“Œ í”„ë¡œì‹œì € êµ¬í˜„](#-í”„ë¡œì‹œì €-êµ¬í˜„)
    
- [ğŸ§ª í…ŒìŠ¤íŠ¸](#-í…ŒìŠ¤íŠ¸)
    

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”

### ì±„ìš© í”Œë«í¼ ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ (ì‚¬ëŒì¸ í´ë¡  DB)

ì´ í”„ë¡œì íŠ¸ëŠ” ì±„ìš© ì‚¬ì´íŠ¸(ì˜ˆ: ì‚¬ëŒì¸)ë¥¼ ëª¨ë¸ë¡œ í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ê³„ ë° êµ¬í˜„í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. ì‚¬ìš©ì, ê¸°ì—…, ì±„ìš©ê³µê³ , ì§€ì› ì´ë ¥ ë“± ì£¼ìš” ì—”í‹°í‹°ë¥¼ í¬í•¨í•œ ERD ëª¨ë¸ë§ê³¼ DB ì•„í‚¤í…ì²˜ë¥¼ ìˆ˜ë¦½í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ìš© DML ì¿¼ë¦¬ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.


## ğŸ«‚ íŒ€ì› ì†Œê°œ

<table align="center">
  <tbody>
    <tr>
      <td align="center"><a href="https://github.com/kishinoa"><img src="https://avatars.githubusercontent.com/u/109147221?v=4" width="100px;" alt=""/><br /><sub><b> ìµœìŠ¹íœ˜ </b></sub></a><br /></td>
      <td align="center"><a href="https://github.com/jh-story"><img src="https://avatars.githubusercontent.com/u/189600163?v=4" width="100px;" alt=""/><br /><sub><b> í•œì£¼í¬ </b></sub></a><br /></td>
      <td align="center"><a href="https://github.com/chaserChoi"><img src="https://avatars.githubusercontent.com/u/146907065?v=4" width="100px;" alt=""/><br /><sub><b> ìµœì¬í˜ </b></sub></a><br /></td>
    </tr>
  </tbody>
</table>


## ğŸ› ï¸ ê¸°ë°˜ ê¸°ìˆ 

<p align="center">
  <img src="https://img.shields.io/badge/MariaDB-003545?style=for-the-badge&logo=mariadb&logoColor=white" />
  <img src="https://img.shields.io/badge/ERDCloud-1F1F1F?style=for-the-badge&logo=cloud&logoColor=white" />
  <img src="https://img.shields.io/badge/MySQL%20Workbench-4479A1?style=for-the-badge&logo=mysql&logoColor=white" />
  <img src="https://img.shields.io/badge/DataGrip-000000?style=for-the-badge&logo=datagrip&logoColor=white" />
  <img src="https://img.shields.io/badge/SQL-336791?style=for-the-badge&logo=sqlite&logoColor=white" />
</p>


## ğŸ“„ í…Œì´ë¸” ëª…ì„¸ì„œ ë° ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ

![requirement_statement_1](https://github.com/user-attachments/assets/f3e5c12f-6f44-44a5-93f1-c57533d88471)
![requirement_statement_2](https://github.com/user-attachments/assets/8eefa237-f1a0-4689-9983-7061393b32e3)
![requirement_statement_3](https://github.com/user-attachments/assets/59865f17-67d1-4515-8535-c439ab07c543)

[í…Œì´ë¸” ëª…ì„¸ì„œ](https://docs.google.com/spreadsheets/d/1hTqacqHRHbYbnGm-4wQmmA5KcH_lW9ZH21sl9GiFgTY/edit?gid=356922980#gid=356922980)

[ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ](https://docs.google.com/spreadsheets/d/1hTqacqHRHbYbnGm-4wQmmA5KcH_lW9ZH21sl9GiFgTY/edit?gid=933404418#gid=933404418)


## ğŸ—‚ï¸ WBS(Work Breakdown Structure)

![wbs](https://github.com/user-attachments/assets/ee96ccc6-54c3-4564-a292-d3ab4e0475fa)

[WBS ë§í¬](https://docs.google.com/spreadsheets/d/1hTqacqHRHbYbnGm-4wQmmA5KcH_lW9ZH21sl9GiFgTY/edit?gid=0#gid=0)


## ğŸ§© ERD ëª¨ë¸ë§

![jeo3ePugp7CADroBu](https://github.com/user-attachments/assets/ed9d11ec-1453-4edf-8ab0-c659f78f169d)

[ERD Link](https://www.erdcloud.com/d/jeo3ePugp7CADroBu)


## ğŸ“Œ êµ¬ì¶• ì¿¼ë¦¬ (DDL)

<details>
<summary>ğŸ™† íšŒì› í…Œì´ë¸”</summary>
<div>

```sql
create table member (
    id			bigint primary key auto_increment,
    email			varchar(255) not null unique,
    name			varchar(255) not null,
    password		varchar(255) not null,
    account_date	datetime not null default CURRENT_TIMESTAMP,
    member_type		enum('user', 'company') default 'user',
    state			enum('online', 'offline', 'withdraw') default 'offline'
)
```

</div>
</details>
<details>
<summary>ğŸ¢ íšŒì‚¬ í…Œì´ë¸”</summary>
<div markdown="1">

```sql
create table company (
    id			bigint primary key auto_increment,
    name			varchar(255) not null,
    address			varchar(255) not null,
    homepage		varchar(255) not null,
    phone_number	varchar(255) not null,
    member_id		bigint not null,
    foreign key(member_id) references member(id)
);
```

</div>
</details>
<details>
<summary>ğŸ“‹ ì´ë ¥ì„œ í…Œì´ë¸”</summary>
<div markdown="1">

```sql
create table resume (
    id			bigint primary key auto_increment,
    title			varchar(255) not null,
    contents		varchar(1000) not null,
    create_time		datetime not null default CURRENT_TIMESTAMP,
    update_time		datetime,
    member_id		bigint not null,
    foreign key(member_id) references member(id)
);
```

</div>
</details>
<details>
<summary>ğŸ“£ ì±„ìš© ê³µê³  í…Œì´ë¸”</summary>
<div markdown="1">

```sql
create table job_posting (
    id			bigint primary key auto_increment,
    title			varchar(255) not null,
    contents		varchar(255) not null,
    career			varchar(1000) not null,
    salary			varchar(255) not null,
    category		varchar(255) not null,
    state			enum('hiring', 'deadline') default 'hiring',
    create_time		datetime not null default CURRENT_TIMESTAMP,
    deadline		datetime,
    company_id		bigint not null,
    foreign key(company_id) references company(id)
);
```

</div>
</details>
<details>
<summary>â² ì§€ì› ë‚´ì—­ í…Œì´ë¸”</summary>
<div markdown="1">

```sql
create table appli_record (
    id			bigint primary key auto_increment,
    resume_id		bigint not null,
    posting_id		bigint not null,
    appli_time		datetime not null default CURRENT_TIMESTAMP,
    result          enum('apply', 'passed', 'failed') not null default 'apply',
    foreign key(resume_id) references resume(id),
    foreign key(posting_id) references job_posting(id)
);
```

</div>
</details>
<details>
<summary>ğŸ“ ìŠ¤í¬ë© í…Œì´ë¸”</summary>
<div markdown="1">

```sql
create table scrap (
    id			bigint primary key auto_increment,
    member_id		bigint not null,
    posting_id		bigint not null,
    scrap_time		datetime not null default CURRENT_TIMESTAMP,
    foreign key(member_id) references member(id),
    foreign key(posting_id) references job_posting(id)
);
```

</div>
</details>
<details>
<summary>â­ ê¸°ì—… ë¦¬ë·° í…Œì´ë¸”</summary>
<div markdown="1">

```sql
create table review (
    id			bigint primary key auto_increment,
    rating			decimal(2, 1) not null default 0.0,
    contents		varchar(1000) not null,
    create_time		datetime not null default CURRENT_TIMESTAMP,
    update_time		datetime,
    member_id		bigint not null,
    company_id		bigint not null,
    foreign key(member_id) references member(id),
    foreign key(company_id) references company(id)
);
```

</div>
</details>
<details>
<summary>ğŸ”– íƒœê·¸ í…Œì´ë¸”</summary>
<div markdown="1">

```sql
create table tag (
    id			bigint primary key auto_increment,
    contents		varchar(255)
);
```

</div>
</details>
<details>
<summary>ğŸ”– íƒœê·¸ ë¦¬ë·° í…Œì´ë¸”</summary>
<div markdown="1">

```sql
create table tag_review (
    id			bigint primary key auto_increment,
    tag_id			bigint not null,
    review_id		bigint not null,
    foreign key(review_id) references review(id),
    foreign key(tag_id) references tag(id)
);
```

</div>
</details>


## ğŸ“Œ í”„ë¡œì‹œì € êµ¬í˜„

<details>
<summary>ğŸ™† íšŒì› í”„ë¡œì‹œì €</summary>
<div>    
<details>  
<summary> íšŒì› ê°€ì… </summary>
    
```sql
delimiter //
CREATE PROCEDURE signup (in emailInput varchar(255), in nameInput varchar(255), in passwordInput varchar(255), in typeInput int)
begin
	if (select 1=1 from member where email = emailInput) then
		signal sqlstate '45000' set message_text = 'ì´ë¯¸ ê°€ì…ëœ ê³„ì •ì…ë‹ˆë‹¤.';
	else 
		if typeInput = 0 then
			insert into member(email, name, password) values(emailInput, nameInput, passwordInput);
            select 'ê°œì¸ê³„ì • ê°€ì… ì™„ë£Œ!' as message;
		else 
			insert into member(email, name, password, member_type) values(emailInput, nameInput, passwordInput, 'company');
            select 'íšŒì‚¬ê³„ì • ê°€ì… ì™„ë£Œ!' as message;
		end if;
	end if;
end //
delimiter ;
```

```sql
call signup('aa@naver.com', 'í˜¸ë‚ ë‘', '1234', 0);
call signup('ab@naver.com', 'ì†í¥ë¯¼', '1234', 0);
call signup('ac@naver.com', 'ê¹€ë¯¼ì¬', '1234', 0);
call signup('ad@naver.com', 'ë©”ì‹œ', '1234', 1);
call signup('ae@naver.com', 'í™ëª…ë³´', '1234', 1);
```

![íšŒì›_ë“±ë¡](https://github.com/user-attachments/assets/dd52741d-81ce-48cf-9937-88d74274ec56)

</details>
<details>
    
<summary> ë¡œê·¸ì¸ </summary>
    
```sql
-- ë¡œê·¸ì¸ í”„ë¡œì‹œì €
delimiter //
create procedure login (in emailInput varchar(255), in passwordInput varchar(255))
begin
	select password into @password from member where email = emailInput;
	if (select 1=1 from member where email = emailInput) then
		if @password = passwordInput then
			update member set state = 'online' where email = emailInput;
			select 'ë¡œê·¸ì¸ ì™„ë£Œ!' as message;
		else
			signal sqlstate '45000' set message_text = 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.';
		end if;
	else 
		signal sqlstate '45000' set message_text = 'ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³„ì •ì…ë‹ˆë‹¤.';
	end if;
end //
delimiter ;
```

```sql
call login('aa@naver.com', '1234');
```

![ë¡œê·¸ì¸](https://github.com/user-attachments/assets/e210efa2-6bee-405c-8f10-2373390c7e89)

</details>
<details>
    
<summary> ë¡œê·¸ì•„ì›ƒ </summary>
    
```sql
-- ë¡œê·¸ì•„ì›ƒ í”„ë¡œì‹œì €
delimiter //
create procedure logout (in emailInput varchar(255), in passwordInput varchar(255))
begin
	select password, state into @password, @state from member where email = emailInput;
	if (select 1=1 from member where email = emailInput) then
		if @password = passwordInput then
			if @state = 'online' then
				update member set state = 'offline' where email = emailInput;
				select 'ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ!' as message;
			else
				signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.';
		end if;
	else 
		signal sqlstate '45000' set message_text = 'ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³„ì •ì…ë‹ˆë‹¤.';
	end if;
end //
delimiter ;
```

```sql
call logout('aa@naver.com', '1234');
```

![ë¡œê·¸ì•„ì›ƒ](https://github.com/user-attachments/assets/8e6f551b-4831-48d1-9108-f980b539fc19)

</details>
<details>
    
<summary> ìœ ì € ì •ë³´ ìˆ˜ì • </summary>
    
```sql
-- ìœ ì € ì •ë³´ ìˆ˜ì • í”„ë¡œì‹œì €
delimiter //
create procedure userupdate (in emailInput varchar(255), in nameInput varchar(255), in passwordInput varchar(255))
begin
	select state into @state from member where email = emailInput;
	if (select 1=1 from member where email = emailInput) then
		if @state = 'online' then
			update member set name = nameInput, password = passwordInput where email = emailInput;
			select 'íšŒì›ì •ë³´ ìˆ˜ì • ì™„ë£Œ!' as message;
		else
			signal sqlstate '45000' set message_text = 'ì˜¤í”„ë¼ì¸ ìƒíƒœì…ë‹ˆë‹¤.';
		end if;
	else 
		signal sqlstate '45000' set message_text = 'ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³„ì •ì…ë‹ˆë‹¤.';
	end if;
end //
delimiter ;
```

```sql
call userupdate('aa@naver.com', 'í˜¸ë‚ ë‘', '0123');
```

![ìœ ì €_ì •ë³´_ìˆ˜ì •](https://github.com/user-attachments/assets/62df38c0-3609-40e3-8609-9d8bc21a222e)

</details>
<details>
    
<summary> íšŒì› íƒˆí‡´ </summary>
    
```sql
-- íšŒì› íƒˆí‡´ í”„ë¡œì‹œì €
delimiter //
create procedure withdrawal (in emailInput varchar(255), in passwordInput varchar(255))
begin
	select state, password into @state, @password from member where email = emailInput;
	if (select 1=1 from member where email = emailInput) then
		if @state = 'online' then
			if @password = passwordInput then
				update member set state = 'withdraw' where email = emailInput;
				select 'íšŒì› íƒˆí‡´ ì™„ë£Œ!' as message;
			else
				signal sqlstate '45000' set message_text = 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¤í”„ë¼ì¸ ìƒíƒœì…ë‹ˆë‹¤.';
		end if;
	else 
		signal sqlstate '45000' set message_text = 'ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³„ì •ì…ë‹ˆë‹¤.';
	end if;
end //
delimiter ;
```

```sql
call withdrawal('aa@naver.com', '0123');
```

![íšŒì›_íƒˆí‡´](https://github.com/user-attachments/assets/23d23bc0-8600-4e04-83c0-3bf6e7d045c5)

</details>
<details>
    
<summary> íšŒì› ë³µêµ¬ </summary>
    
```sql
-- íšŒì› ë³µêµ¬ í”„ë¡œì‹œì €
delimiter //
create procedure recovery (in emailInput varchar(255), in passwordInput varchar(255))
begin
	select state, password into @state, @password from member where email = emailInput;
	if (select 1=1 from member where email = emailInput) then
		if @state = 'withdraw' then
			if @password = passwordInput then
				update member set state = 'offline' where email = emailInput;
				select 'íšŒì›ë³µêµ¬ ì™„ë£Œ!' as message;
			else
				signal sqlstate '45000' set message_text = 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.';
			end if;
		else
			signal sqlstate '45000' set message_text = 'íƒˆí‡´í•œ ê³„ì •ì´ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else 
		signal sqlstate '45000' set message_text = 'íƒˆí‡´í•œ ê³„ì •ì´ ì•„ë‹™ë‹ˆë‹¤.';
	end if;
end //
delimiter ;
```

```sql
call recovery('aa@naver.com', '0123');
```

![íšŒì›_ë³µêµ¬](https://github.com/user-attachments/assets/5d2d4054-69e7-45f5-9c1c-485bc62eeec3)

</details>
</div>
</details>

<details>
<summary>ğŸ¢ íšŒì‚¬ í”„ë¡œì‹œì €</summary>
<div markdown="1">

<details>  
<summary> íšŒì‚¬ ì •ë³´ ë“±ë¡ & ìˆ˜ì • </summary>
    
```sql
-- íšŒì‚¬ ì •ë³´ ë“±ë¡ and ìˆ˜ì • í”„ë¡œì‹œì €
delimiter //
create procedure companyinup (in emailInput varchar(255), in companynameInput varchar(255), in addressInput varchar(255), in homepageInput varchar(255), in phonenumInput varchar(255))
begin
	select state, member_type, id into @state, @type, @id from member where email = emailInput;
	if (select 1=1 from member where email = emailInput) then
		if @state = 'online' then
			if @type = 'company' then
				if (select 1=1 from company where member_id = @id) then
					update company set name = companynameInput, address = addressInput, homepage = homepageInput, phone_number = phonenumInput where member_id = @id;
					select 'íšŒì‚¬ì •ë³´ ìˆ˜ì • ì™„ë£Œ!' as message;
				else
					insert into company(name, address, homepage, phone_number, member_id) values(companynameInput, addressInput, homepageInput, phonenumInput, @id);
					select 'íšŒì‚¬ì •ë³´ ë“±ë¡ ì™„ë£Œ!' as message;
				end if;
			else
				signal sqlstate '45000' set message_text = 'íšŒì‚¬ ê³„ì •ë§Œ ë“±ë¡ ê°€ëŠ¥';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else 
		signal sqlstate '45000' set message_text = 'ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³„ì •ì…ë‹ˆë‹¤.';
	end if;
end //
delimiter ;
```

```sql
-- ë“±ë¡
call companyinup('ad@naver.com', 'ë°”ë¥´ì…€ë¡œë‚˜', 'ìŠ¤í˜ì¸ ë°”ë¥´ì…€ë¡œë‚˜', 'www.ad.com', '010-1234-5678');

-- ìˆ˜ì • (í”„ë¡œì‹œì € ê°™ìŒ)
call companyinup('ad@naver.com', 'ë°”ë¥´ì…€ë¡œë‚˜', 'ìŠ¤í˜ì¸ ë°”ë¥´ì…€ë¡œë‚˜', 'www.ad.com', '010-1234-1234');
```

![íšŒì‚¬_ì •ë³´_ë“±ë¡](https://github.com/user-attachments/assets/05c5db8b-55b7-4976-b135-e9f4add1e74f)

![íšŒì‚¬_ìˆ˜ì •](https://github.com/user-attachments/assets/10b0d88b-2d60-4f8c-979d-c6df71c48a9c)

</details>
<details>
    
<summary> íšŒì‚¬ ì •ë³´ ì‚­ì œ </summary>
    
```sql
-- íšŒì‚¬ ì •ë³´ ì‚­ì œ í”„ë¡œì‹œì €
delimiter //
create procedure companydel (in emailInput varchar(255))
begin
	select state, member_type, id into @state, @type, @id from member where email = emailInput;
	if (select 1=1 from member where email = emailInput) then
		if @state = 'online' then
			if @type = 'company' then
				if (select 1=1 from company where member_id = @id) then
					delete from company where member_id = @id;
					select 'íšŒì‚¬ ì •ë³´ ì‚­ì œ ì™„ë£Œ!' as message;
				else
					signal sqlstate '45000' set message_text = 'ë“±ë¡í•œ íšŒì‚¬ ì •ë³´ê°€ ì—†ìŒ';
				end if;
			else
				signal sqlstate '45000' set message_text = 'íšŒì‚¬ ê³„ì •ë§Œ ì‚­ì œ ê°€ëŠ¥';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else 
		signal sqlstate '45000' set message_text = 'ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³„ì •ì…ë‹ˆë‹¤.';
	end if;
end //
delimiter ;
```

```sql
call companydel('ad@naver.com');
```

![íšŒì‚¬_ì‚­ì œ](https://github.com/user-attachments/assets/741a9363-4f33-4732-b569-3eb2a29558a9)

</details>
</div>
</details>

<details>
<summary>ğŸ“‹ ì´ë ¥ì„œ í”„ë¡œì‹œì €</summary>
<div markdown="1">

<details>  
<summary> ì´ë ¥ì„œ ë“±ë¡ </summary>
    
```sql
-- ì´ë ¥ì„œ ë“±ë¡ í”„ë¡œì‹œì €
-- ê°œì¸ ê³„ì • -> ì´ë ¥ì„œ ë“±ë¡ (ì œëª©, ë‚´ìš©)
DELIMITER //
create procedure RESUME_001(
    in titleInput varchar(255),
    in contentsInput varchar(1000),
    in memberIdInput bigint
)
begin
    if exists(select 1 from member where id = memberIdInput and member_type = 'user' and state = 'online') then
        if (select 1 from resume where member_id = memberIdInput and title = titleInput) then
            -- ì´ë¯¸ ë“±ë¡ëœ ì´ë ¥ì„œ ì œëª©ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ì˜¤ë¥˜ ë°œìƒ
            signal sqlstate '45000' set message_text = 'ì´ë¯¸ ë“±ë¡ëœ ì´ë ¥ì„œ ì œëª©ì´ ì¡´ì¬í•©ë‹ˆë‹¤.';
        else
            insert into resume (title, contents, member_id)
                values (titleInput, contentsInput, memberIdInput);

            -- ì´ë ¥ì„œ ë“±ë¡ ì„±ê³µ ë©”ì„¸ì§€
            select 'ì´ë ¥ì„œ ë“±ë¡ ì™„ë£Œ!' as message;
        end if;
    else
        -- ê°œì¸ ê³„ì •ì´ ì•„ë‹Œ ê²½ìš° ì˜¤ë¥˜ ë°œìƒ
        signal sqlstate '45000' set message_text = 'ê°œì¸ ê³„ì •ë§Œ ë“±ë¡ ê°€ëŠ¥!';
    end if;
end //
delimiter ;
```

```sql
call RESUME_001('ì´ë ¥ì„œ1', 'ë°”ë¥´ì…€ë¡œë‚˜ ì§€ì›í•©ë‹ˆë‹¤.', 1);
call RESUME_001('ì´ë ¥ì„œ2', 'êµ­ê°€ëŒ€í‘œ ê³µê²©ìˆ˜ ì§€ì›í•©ë‹ˆë‹¤.', 2);
call RESUME_001('ì´ë ¥ì„œ3', 'êµ­ê°€ëŒ€í‘œ ìˆ˜ë¹„ìˆ˜ ì§€ì›í•©ë‹ˆë‹¤.', 3);
```

![ì´ë ¥ì„œ_ë“±ë¡](https://github.com/user-attachments/assets/95aa9992-c1d0-4407-85b5-dc434d025f4b)

</details>
<details>
    
<summary> ì´ë ¥ì„œ ìˆ˜ì • </summary>
    
```sql
-- ì´ë ¥ì„œ ìˆ˜ì • í”„ë¡œì‹œì €
-- ì´ë ¥ì„œ ë‚´ìš© ìˆ˜ì •
delimiter //
create procedure RESUME_002(
    in memberIdInput bigint, 
    in idInput bigint,
    in titleInput varchar(255),
    in contentsInput varchar(1000))
begin
    -- ì´ë ¥ì„œ IDê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
    if exists(select 1 from member where id = memberIdInput and member_type = 'user' and state = 'online') then
        update resume
        set title = titleInput,
            contents = contentsInput,
            update_time = CURRENT_TIMESTAMP
        where id = idInput;

        select 'ì´ë ¥ì„œê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.' as message;
    else
        -- ê°œì¸ ê³„ì •ì´ ì•„ë‹Œ ê²½ìš° ì˜¤ë¥˜ ë°œìƒ
        signal sqlstate '45000' set message_text = 'ê°œì¸ ê³„ì • ë° online ìƒíƒœë§Œ ìˆ˜ì • ê°€ëŠ¥!';
    end if;
end //
delimiter ;
```

```sql
call RESUME_002(3, 3, 'ì´ë ¥ì„œ4', 'êµ­ê°€ëŒ€í‘œ ìˆ˜ë¹„ìˆ˜ ì§€ì›í•©ë‹ˆë‹¤.');
```

![ì´ë ¥ì„œ_ìˆ˜ì •](https://github.com/user-attachments/assets/89e552f1-8f08-45b1-8072-30c122e4b75d)

</details>
<details>
    
<summary> ì´ë ¥ì„œ ì‚­ì œ </summary>
    
```sql
-- ì´ë ¥ì„œ ì‚­ì œ í”„ë¡œì‹œì €
-- âœ”ï¸ íšŒì‚¬ ê³„ì • â†’ ê³µê³  ì‚­ì œ
delimiter //
create procedure RESUME_003(
    in memberIdInput bigint, 
    in idInput bigint
)
begin
    if exists(select 1 from member where id = memberIdInput and member_type = 'user' and state = 'online') then
        delete from resume
        where id = idInput;

        select 'ì´ë ¥ì„œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.' as message;
    else
        -- ê°œì¸ ê³„ì •ì´ ì•„ë‹Œ ê²½ìš° ì˜¤ë¥˜ ë°œìƒ
        signal sqlstate '45000' set message_text = 'ê°œì¸ ê³„ì • ë° online ìƒíƒœë§Œ ì‚­ì œ ê°€ëŠ¥!';
    end if;
end //
delimiter ;
```

```sql
call RESUME_003(3, 3);
```

![ì´ë ¥ì„œ_ì‚­ì œ](https://github.com/user-attachments/assets/bf7a025d-c5f5-471c-ba8f-b31541d7cd6d)

</details>

</div>
</details>

<details>
<summary>ğŸ“£ ì±„ìš© ê³µê³  í”„ë¡œì‹œì €</summary>
<div markdown="1">

<details>  
<summary> ê³µê³  ë“±ë¡ </summary>
    
```sql
-- ê³µê³  ë“±ë¡ í”„ë¡œì‹œì €
-- âœ”ï¸ íšŒì‚¬ ê³„ì • â†’ ê³µê³  ë“±ë¡ ê°€ëŠ¥
-- ì œëª©, ë‚´ìš©, ê²½ë ¥, ì—°ë´‰, ë§ˆê°ì‹œê°„, ì¹´í…Œê³ ë¦¬, ìƒíƒœ
delimiter //
create procedure POSTING_001(
    IN memberIdInput BIGINT,
    IN titleInput VARCHAR(255),
    IN contentsInput VARCHAR(255),
    IN careerInput VARCHAR(1000),
    IN salaryInput VARCHAR(255),
    IN categoryInput VARCHAR(255),
    IN deadlineInput DATETIME
)
begin
    -- íšŒì‚¬ ê³„ì • ID ë³€ìˆ˜
    declare v_company_id bigint;

    -- íšŒì‚¬ ê³„ì • í™•ì¸
    if exists(select 1 from member where id = memberIdInput and member_type = 'company' and state = 'online') then
        -- íšŒì‚¬ ID ì¡°íšŒ
        select id into v_company_id from company where member_id = memberIdInput;

        -- ì±„ìš© ê³µê³  ë“±ë¡
        insert into job_posting(title, contents, career, salary, category, deadline, company_id)
            VALUES (titleInput, contentsInput, careerInput, salaryInput, categoryInput, deadlineInput, v_company_id);
    else
        -- íšŒì‚¬ ê³„ì •ì´ ì•„ë‹Œ ê²½ìš° ì˜¤ë¥˜ ë°œìƒ
        signal sqlstate '45000' set message_text = 'íšŒì‚¬ ê³„ì •ë§Œ ë“±ë¡ ê°€ëŠ¥';
    end if;
end //
delimiter ;
```

```sql
call POSTING_001(4, 'ì„ ìˆ˜ëª¨ì§‘', 'ì„ ìˆ˜ êµ¬í•©ë‹ˆë‹¤', '1ë…„', '3000ë§Œì›', 'ìŠ¤í¬ì¸ ', '2025-06-10');
call POSTING_001(5, 'êµ­ê°€ëŒ€í‘œ ëª¨ì§‘', 'ì„ ìˆ˜ êµ¬í•©ë‹ˆë‹¤', '1ë…„', '3000ë§Œì›', 'ìŠ¤í¬ì¸ ', '2025-06-09');
```

![ê³µê³ _ë“±ë¡](https://github.com/user-attachments/assets/d59500f8-6ca7-4d48-b1ef-6d6d56b1809a)

</details>
<details>
    
<summary> ê³µê³  ìˆ˜ì • </summary>
    
```sql
-- ê³µê³  ìˆ˜ì • í”„ë¡œì‹œì €
-- âœ”ï¸ íšŒì‚¬ ê³„ì • â†’ ì›í•˜ëŠ” ê³µê³  ìˆ˜ì • ê°€ëŠ¥
-- ì œëª©, ë‚´ìš©, ê²½ë ¥, ì—°ë´‰, ë§ˆê°ì‹œê°„, ì¹´í…Œê³ ë¦¬
delimiter //
create procedure POSTING_002(
    in memberIdInput bigint,
    in postingIdInput bigint,
    in titleInput varchar(255),
    in contentsInput varchar(255),
    in careerInput varchar(1000),
    in salaryInput varchar(255),
    in categoryInput varchar(255),
    in deadlineInput datetime
)
begin
    -- íšŒì‚¬ ê³„ì • ID ë³€ìˆ˜
    declare v_company_id bigint;

    -- íšŒì‚¬ ê³„ì • í™•ì¸
    if exists(select 1 from member where id = memberIdInput and member_type = 'company' and state = 'online') then
        select id into v_company_id from company where member_id = memberIdInput;

        -- ê³µê³  ID & íšŒì‚¬ ID ì¼ì¹˜í•œì§€ í™•ì¸
        if exists(select 1 from job_posting where id = postingIdInput and company_id = v_company_id) then
            update job_posting
            set title = titleInput,
                contents = contentsInput,
                career = careerInput,
                salary = salaryInput,
                category = categoryInput,
                deadline = deadlineInput
            where id = postingIdInput;
        else
            -- ê³µê³ ê°€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ìˆ˜ì • ê¶Œí•œì´ ì—†ëŠ” ê²½ìš°(íšŒì‚¬ID ë‹¤ë¥¸ ê²½ìš°) ì˜¤ë¥˜ ë°œìƒ
            signal sqlstate '45000' set message_text = 'ìˆ˜ì • ê¶Œí•œì´ ì—†ê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³µê³ ì…ë‹ˆë‹¤.';
        end if;
    else
        -- íšŒì‚¬ ê³„ì •ì´ ì•„ë‹Œ ê²½ìš° ì˜¤ë¥˜ ë°œìƒ
        signal sqlstate '45000' set message_text = 'íšŒì‚¬ ê³„ì •ë§Œ ìˆ˜ì • ê°€ëŠ¥!';
    end if;
end //
delimiter ;
```

```sql
call POSTING_002(4, 1, 'ì„ ìˆ˜ëª¨ì§‘', 'ì„ ìˆ˜ êµ¬í•©ë‹ˆë‹¤', '1ë…„', '3500ë§Œì›', 'ìŠ¤í¬ì¸ ', '2025-06-10');
```

![ê³µê³ _ìˆ˜ì •](https://github.com/user-attachments/assets/beab0ec5-fb90-4fb6-924c-5d854bd1bbcf)

</details>
<details>
    
<summary> ê³µê³  ìƒíƒœ ë³€ê²½ </summary>
    
```sql
-- ê³µê³  ìƒíƒœ ë³€ê²½ í”„ë¡œì‹œì €
-- âœ”ï¸ íšŒì‚¬ ê³„ì • â†’ ê³µê³  ë§ˆê°ì‹œê°„ ì§€ë‚  ì‹œì— ìƒíƒœ ë³€ê²½
# (ê¸°ë³¸ì€ ê³ ìš©ì¤‘(hiring) > ë§ˆê°(deadline)ìœ¼ë¡œ ìƒíƒœ ë³€ê²½)
delimiter //
create procedure POSTING_003()
begin
    update job_posting
    set state = 'deadline'
    where deadline < now()
    and state = 'hiring';
end //
delimiter ;
```

```sql
call POSTING_003();
```

![ê³µê³ _ìƒíƒœ_ë“±ë¡](https://github.com/user-attachments/assets/609e72f5-c132-4329-9275-c32e523de93d)

</details>
<details>
    
<summary> ê³µê³  ì‚­ì œ </summary>
    
```sql
-- ê³µê³  ì‚­ì œ í”„ë¡œì‹œì €
-- âœ”ï¸ íšŒì‚¬ ê³„ì • â†’ ê³µê³  ì‚­ì œ
delimiter //
create procedure POSTING_004(
    in memberIdInput bigint,
    in postingIdInput bigint
)
begin
    -- íšŒì‚¬ ê³„ì • ID ë³€ìˆ˜
    declare v_company_id bigint;

    -- íšŒì‚¬ ê³„ì • í™•ì¸
    if exists(select 1 from member where id = memberIdInput and member_type = 'company' and state = 'online') then
        select id into v_company_id from company where member_id = memberIdInput;

        -- ê³µê³  ID & íšŒì‚¬ ID ì¼ì¹˜í•œì§€ í™•ì¸
        if exists(select 1 from job_posting where id = postingIdInput and company_id = v_company_id) then
            delete from job_posting where id = postingIdInput;
        else
            -- ê³µê³ ê°€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ì‚­ì œ ê¶Œí•œì´ ì—†ëŠ” ê²½ìš°(íšŒì‚¬ID ë‹¤ë¥¸ ê²½ìš°) ì˜¤ë¥˜ ë°œìƒ
            signal sqlstate '45000' set message_text = 'ì‚­ì œ ê¶Œí•œ ì—†ê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³µê³ ì…ë‹ˆë‹¤!';
        end if;
    else
        -- íšŒì‚¬ ê³„ì •ì´ ì•„ë‹Œ ê²½ìš° ì˜¤ë¥˜ ë°œìƒ
        signal sqlstate '45000' set message_text = 'íšŒì‚¬ ê³„ì •ë§Œ ì‚­ì œ ê°€ëŠ¥!';
    end if;
end //
delimiter ;
```

```sql
call POSTING_004(5, 2);
```

![ê³µê³ _ì‚­ì œ](https://github.com/user-attachments/assets/83d57fd1-bd4f-4d2a-914f-a1d1496d0e04)

</details>

</div>
</details>

<details>
<summary>â² ì§€ì› ë‚´ì—­ í”„ë¡œì‹œì €</summary>
<div markdown="1">

<details>
    
<summary> ì´ë ¥ì„œ ì§€ì› </summary>
    
```sql
-- ì§€ì› ë‚´ì—­ í”„ë¡œì‹œì €
-- ì´ë ¥ì„œ ì§€ì›
-- âœ”ï¸ ì‚¬ìš©ìì˜ ì´ë ¥ì„œë¥¼ ê³µê³ ì— ì§€ì›
delimiter //
create procedure APPLY_001(
    in memberIdInput bigint,
    in resumeIdInput bigint,
    in postingIdInput bigint
)
begin
    declare v_resume_owner bigint;
    declare v_deadline datetime;

    -- íšŒì› ìƒíƒœ í™•ì¸
    IF EXISTS (
        select 1 from member
        where id = memberIdInput and state = 'online'
    ) then
        -- ì´ë ¥ì„œ ì†Œìœ ì í™•ì¸
        select member_id into v_resume_owner from resume where id = resumeIdInput;
        select deadline into v_deadline from job_posting where id = postingIdInput;

        if v_resume_owner = memberIdInput then
            if v_deadline is null or v_deadline > now() then
                insert into appli_record (resume_id, posting_id)
                values (resumeIdInput, postingIdInput);
            else
                signal sqlstate '45000'
                    set message_text = 'í•´ë‹¹ ê³µê³ ëŠ” ë§ˆê°ë˜ì—ˆìŠµë‹ˆë‹¤. ì§€ì›í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
            end if;
        else
            signal sqlstate '45000'
                set message_text = 'í•´ë‹¹ ì´ë ¥ì„œëŠ” ì´ íšŒì›ì˜ ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.';
        end if;
    else
        signal sqlstate '45000'
            set message_text = 'íšŒì› ìƒíƒœê°€ onlineì¼ ê²½ìš°ì—ë§Œ ì§€ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
    end if;
end //
delimiter ;
```

```sql
call APPLY_001(1, 1, 1);
call APPLY_001(2, 2, 3);
call APPLY_001(3, 4, 3);
```

![ì§€ì›_ë‚´ì—­_ì¡°íšŒ](https://github.com/user-attachments/assets/6f5d3434-8a03-4362-b67e-d63a4c29b8cc)

</details>
<details>
    
<summary> ì§€ì› ìƒíƒœ ë³€ê²½ (í•©/ë¶ˆ) </summary>
    
```sql
-- ì§€ì› ìƒíƒœ ë³€ê²½(í•©ê²©, ë¶ˆí•©ê²©)
delimiter //
create procedure changeresult (in memIdInput bigint, in postingIdInput bigint, in resumeIdInput bigint)
begin
	select state, member_type into @state, @type from member where id = memIdInput;
	if @type = 'company' then
		if @state = 'online' then
			select state into @post_state from job_posting where id = postingIdInput;
			if @post_state = 'deadline' then
				update appli_record set result = 'passed' where posting_id = postingIdInput and resume_id = resumeIdInput;
				update appli_record set result = 'failed' where posting_id = postingIdInput and result = 'apply';
			else
				signal sqlstate '45000' set message_text = 'ì±„ìš©ì¤‘ì¸ ê³µê³  ì…ë‹ˆë‹¤.';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else
		signal sqlstate '45000' set message_text = 'íšŒì‚¬ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•˜ì„¸ìš”.';
	end if;
end //
delimiter ;
```

```sql
call changeresult(5, 3, 2);
```

![ì§€ì›ê²°ê³¼ìƒíƒœë³€ê²½](https://github.com/user-attachments/assets/f7967d1f-ebc4-4c97-b99e-319c9513adb6)

</details>

</div>
</details>

<details>
<summary>ğŸ“ ìŠ¤í¬ë© í”„ë¡œì‹œì €</summary>
<div markdown="1">

<details>
    
<summary> ìŠ¤í¬ë© ì¶”ê°€ </summary>
    
```sql
-- ìŠ¤í¬ë© ì¶”ê°€
delimiter //
create procedure scrapinsert (in memIdInput bigint, in postingIdInput bigint)
begin
	select state, member_type into @state, @type from member where id = memIdInput;
	if @type = 'user' then
		if @state = 'online' then
			select state into @post_state from job_posting where id = postingIdInput;
			if @post_state = 'hiring' then
				insert into scrap(member_id, posting_id) values(memIdInput, postingIdInput);
                select 'ìŠ¤í¬ë© ì¶”ê°€ ì™„ë£Œ!' as message;
			else
				signal sqlstate '45000' set message_text = 'ì±„ìš©ì¤‘ì¸ ê³µê³ ê°€ ì•„ë‹™ë‹ˆë‹¤.';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else
		signal sqlstate '45000' set message_text = 'ê°œì¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•˜ì„¸ìš”.';
	end if;
end //
delimiter ;
```

```sql
call scrapinsert(1, 1);
```

![ìŠ¤í¬ë©_ì¶”ê°€](https://github.com/user-attachments/assets/3ba6b88e-37eb-4d29-8862-315c22fa0cb0)

</details>
<details>
    
<summary> ìŠ¤í¬ë© ì‚­ì œ </summary>
    
```sql
-- ìŠ¤í¬ë© ì‚­ì œ
delimiter //
create procedure scrapdelete (in memIdInput bigint, in scrapIdInput bigint)
begin
	select state, member_type into @state, @type from member where id = memIdInput;
	if @type = 'user' then
		if @state = 'online' then
			if (select 1=1 from scrap where id = scrapIdInput) then
				if (select 1=1 from scrap where id = scrapIdInput and member_id = memIdInput) then
					delete from scrap where id = scrapIdInput;
                    select 'ìŠ¤í¬ë© ì‚­ì œ ì™„ë£Œ!' as message;
				else
					signal sqlstate '45000' set message_text = 'ë³¸ì¸ ìŠ¤í¬ë©ì´ ì•„ë‹™ë‹ˆë‹¤.';
				end if;
			else
				signal sqlstate '45000' set message_text = 'ìŠ¤í¬ë©ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else
		signal sqlstate '45000' set message_text = 'ê°œì¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•˜ì„¸ìš”.';
	end if;
end //
delimiter ;
```

```sql
call scrapdelete(1, 1);
```

![ìŠ¤í¬ë©_ì‚­ì œ](https://github.com/user-attachments/assets/90a37e59-35fc-4db2-b7cc-8d180b2d785a)

</details>

</div>
</details>

<details>
<summary>â­ ê¸°ì—… ë¦¬ë·° í”„ë¡œì‹œì €</summary>
<div markdown="1">

<details>
    
<summary> ë¦¬ë·° ìƒì„± </summary>
    
```sql
-- ë¦¬ë·° ìƒì„±
delimiter //
create procedure reviewinsert (in memIdInput bigint, in companyIdInput bigint, in ratingInput decimal(2,1), in contentsInput varchar(1000), in tagInput varchar(255))
begin
	select state, member_type into @state, @type from member where id = memIdInput;
	if @type = 'user' then
		if @state = 'online' then
			if (select 1=1 from review where member_id = memIdInput and company_id = companyIdInput) then
				signal sqlstate '45000' set message_text = 'ì´ë¯¸ í‰ê°€í•œ íšŒì‚¬ì…ë‹ˆë‹¤.';
			else 
				insert into review(rating, contents, member_id, company_id) values(ratingInput, contentsInput, memIdInput, companyIdInput);
				select id into @review_id from review order by id desc limit 1;
				if (select 1=1 from tag where contents = tagInput) then
					select id into @tag_id from tag where contents = tagInput;
				else
					insert into tag(contents) values(tagInput);
					select id into @tag_id from tag order by id desc limit 1;
				end if;
				insert into tag_review(review_id, tag_id) values(@review_id, @tag_id);
                select 'ë¦¬ë·° ë“±ë¡ ì™„ë£Œ!' as message;
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else
		signal sqlstate '45000' set message_text = 'ê°œì¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•˜ì„¸ìš”.';
	end if;
end //
delimiter ;
```

```sql
call reviewinsert(1, 2, 4.0, 'ì¢‹ì•„ìš”', 'good');
```

![ë¦¬ë·°_ìƒì„±](https://github.com/user-attachments/assets/7c45eac7-14d4-4dae-87e4-f2147f6a6cf2)

</details>
<details>
    
<summary> ë¦¬ë·° ìˆ˜ì • </summary>
    
```sql
-- ë¦¬ë·° ìˆ˜ì •
delimiter //
create procedure reviewupdate (in memIdInput bigint, in reviewIdInput bigint, in ratingInput decimal(2,1), in contentsInput varchar(1000))
begin
	select state, member_type into @state, @type from member where id = memIdInput;
	if @type = 'user' then
		if @state = 'online' then
			if(select 1=1 from review where id = reviewIdInput and member_id = memIdInput) then
				update review set rating = ratingInput, contents = contentsInput, update_time = now() where id = reviewIdInput;
                select 'ë¦¬ë·° ìˆ˜ì • ì™„ë£Œ!' as message;
			else
				signal sqlstate '45000' set message_text = 'ë³¸ì¸ ë¦¬ë·°ê°€ ì•„ë‹™ë‹ˆë‹¤.';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else
		signal sqlstate '45000' set message_text = 'ê°œì¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•˜ì„¸ìš”.';
	end if;
end //
delimiter ;
```

```sql
call reviewupdate(1, 1, 3.5, 'ì¢‹ì•„ìš”');
```

![ë¦¬ë·°_ìˆ˜ì •](https://github.com/user-attachments/assets/1ad067df-0f61-4deb-abfc-6acc934b89cf)

</details>
<details>
    
<summary> ë¦¬ë·° ì‚­ì œ </summary>
    
```sql
-- ë¦¬ë·° ì‚­ì œ
delimiter //
create procedure reviewdelete (in memIdInput bigint, in reviewIdInput bigint)
begin
	select state, member_type into @state, @type from member where id = memIdInput;
	if @type = 'user' then
		if @state = 'online' then
			if (select 1=1 from review where id = reviewIdInput and member_id = memIdInput) then
				delete from tag_review where review_id = reviewIdInput;
				delete from review where id = reviewIdInput;
                select 'ë¦¬ë·° ì‚­ì œ ì™„ë£Œ!' as message;
			else
				signal sqlstate '45000' set message_text = 'ë³¸ì¸ ë¦¬ë·°ê°€ ì•„ë‹™ë‹ˆë‹¤.';
			end if;
		else
			signal sqlstate '45000' set message_text = 'ì˜¨ë¼ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.';
		end if;
	else
		signal sqlstate '45000' set message_text = 'ê°œì¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•˜ì„¸ìš”.';
	end if;
end //
delimiter ;
```

```sql
call reviewdelete(1, 1);
```

![ë¦¬ë·°_ì‚­ì œ](https://github.com/user-attachments/assets/d8c8ac2f-878e-4843-b5a8-34de04800601)

</details>

</div>
</details>


## ğŸ§ª í…ŒìŠ¤íŠ¸
